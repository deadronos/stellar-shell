# Stellar Shell: Gameplay Design Document

## Core Concept
**Loop**: `Mine Asteroids` -> `Acquire Matter` -> `Expand Drone Swarm` -> `Build Dyson Sphere` -> `Generate Energy` -> `Prestige/Upgrade`

## 1. Voxel Mining & Resources
We leverage the fully voxelized nature of asteroids.
- **Manual Mining**: Player uses a laser tool to break individual voxel blocks.
- **Drone Mining**: Drones swarm asteroids, "eating" them voxel by voxel.
    - *Visuals*: Blocks shrink or particle effects show transfer to drone.
- **Resources**:
    - **Matter** (Raw): From stone/surface. Used for Drone construction and basic Frames.
    - **Rare Elements** (Advanced): Found in "Core" blocks (Deep mining). Used for advanced Sphere components.

## 2. The Dyson Sphere (The Megaproject)
The ultimate goal is to enclose the central Star (at `0,0,0`).
Construction is **Phased** and **Voxel-based**.

### Phase 0: The Skeleton
- **Mechanism**: Player places "Frame Blueprints" (or they are auto-generated in a sphere pattern).
- **Cost**: High Matter cost.
- **Gameplay**: Drones must physically fly to the construction site to "weld" the frames.
- **Incremental Hook**: Unlocking "Auto-Blueprint" allowing the sphere design to expand automatically.

### Phase 1: Solar Panels
- **Mechanism**: Fill frames with Panels.
- **Output**: Generates **Energy**.
- **Visual**: Hexagonal or Geodesic dome structure enclosing the star.

### Phase 2: The Shell
- A solid shell for maximum energy capture. Requires specialized "Core" materials from asteroids.

## 3. Idle / Incremental Mechanics
### Currency & Resources
- **Matter**: Primary currency. High volume.
- **Energy**: Generated by Dyson Sphere parts. Used for upgrades.
- **Research Data**: Generated by "Explorer" drones or by observing celestial events.

### Upgrades (The Tech Tree)
- **Swarm Intelligence**: Drones mine faster/smarter.
- **Thrusters**: Drones move faster (critical for large distances between asteroids and the Sphere).
- **Laser Efficiency**: Mining breaks blocks in fewer ticks.
- **Auto-Replicator**: Drones automatically build new drones if resources allow (toggleable).

### Prestige: "System Jump"
- Once a Sphere is X% complete or Energy reaches Y, activate the **Stellar Engine**.
- **Action**: Move the entire Sphere/Swarm to a new, richer Star System.
- **Reset**: Lose Matter, basic Drones.
- **Keep**: Upgrades, "Stellar Dust" (Prestige Currency), and the Dyson Sphere Framework (maybe?).
- **New System**: Dense asteroids, exotic materials (e.g., "Crystalline" asteroids for laser focusing).

## 4. Implementation Plan (MVP)
1.  **Central Star**: Add a visual Star at world origin.
2.  **Sphere Blueprint**: Calculate positions for a geodesic sphere. Render them as "ghost" voxels.
3.  **Construction Logic**: Update `BrainSystem` to prioritize Sphere Frames when Blueprints exist.
4.  **UI**: Add "Upgrades" panel.

## 5. Technical Considerations
- **Performance**: A full sphere is too many voxels.
    - *Solution*: Use "Megastructure Objects" (instanced meshes) for completed sections, only using Voxels for the *frontier* aka active construction sites.
- **Orbits**: Asteroids should arguably orbit the star slowly (optional complexity).
